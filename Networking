CIDR - IPv4

 - Classless Inter-Domain Routing - a method for allocating IP addresses
 - CIDRs help to define an IP address range:
    1. We've seen 11.22.33.44.55/32 => one IP
    2. We've seen 0.0.0.0/0 => all IPs
    3. But we can define: 192.168.0.0/26 => 192.168.0.0 - 192.168.0.63 (64 IP address range)
 - A CIDR has two components:
    1. Base IP:
       - Represents an IP contained in the range (XX.XX.XX.XX)
       - Example: 10.0.0.0 or 192.168.0.0
    2. Subnet Mask:
       - Defines how many bits can change in the IP
       - Example /0 or /24 or /32
       - Can take two forms:
          1. /8 <=> 255.0.0.0
          2. /16 <=> 255.255.0.0
          3. /24 <=> 255.255.255.0
          4. /32 <=> 255.255.255.255

 - CIDR - Subnet Mask:
 - The Subnet Mask basically allows part of the underlying IP to get additional next values from the base IP

   192.168.0.0/32 => allows for 1 IP (2^0) ------> 192.168.0.0
   192.168.0.0/31 => allows for 2 IP (2^1) ------> 192.168.0.0 -> 192.168.0.1
   192.168.0.0/30 => allows for 4 IP (2^2) ------> 192.168.0.0 -> 192.168.0.3
   192.168.0.0/29 => allows for 8 IP (2^3) ------> 192.168.0.0 -> 192.168.0.7
   192.168.0.0/28 => allows for 16 IP (2^4) ------> 192.168.0.0 -> 192.168.0.15
   192.168.0.0/27 => allows for 32 IP (2^5) ------> 192.168.0.0 -> 192.168.0.31
   192.168.0.0/26 => allows for 64 IP (2^6) ------> 192.168.0.0 -> 192.168.0.63
   192.168.0.0/25 => allows for 128 IP (2^7) ------> 192.168.0.0 -> 192.168.0.127
   192.168.0.0/24 => allows for 256 IP (2^8) ------> 192.168.0.0 -> 192.168.0.255
   192.168.0.0/16 => allows for 65,536 IP (2^16) ------> 192.168.0.0 -> 192.168.255.255
   192.168.0.0/0 => allows for All IPs ------> 0.0.0.0 -> 255.255.255.255

 - IPs are made of four Octets:

   123.456.789.0
   (1).(2).(3).(4)

 - /32 - no octet can change
 - /24 - last octet can change
 - /16 - last two octets can change
 - /8 - last 3 octets can change
 - /0 - all octets can change

 - Public vs. Private IP (IPv4):
 - The Internet Assigned Numbers Authority (IANA) established certain blocks of IPv4 addresses for the use of private (LAN) and public (Internet) addresses
 - Private IP can only allow certain values:
    1. 10.0.0.0 - 10.255.255.255 (10.0.0.0/8) - in big networks
    2. 172.16.0.0 - 172.16.255.255 (172.16.0.0/12) - AWS default VPC in that range
    3. 192.168.0.0 - 192.168.255.255 (192.168.0.0/16) - e.g. home networks

 - All the rest of the IP addresses on the Internet are Public

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

AWS VPC

 - VPC = Virtual Private Cloud
 - AWS Default VPC:
 - All new AWS accounts have a default VPC
 - New EC2 instances are launched into the default VPC if no subnet is specified
 - Default VPC has internet connectivity and all EC2 instances inside it have public IPv4 addresses
 - We also get a public and a private IPv4 DNS names


 - User created VPC in AWS:
 - You can have multiple VPCs in an AWS region (max. 5 per region - soft limit)
 - Max. CIDR per VPC is 5, for each CIDR:
    1. Min. size is /28 (16 IP addresses)
    2. Max. size is /16 (65536 IP addresses)
 - Because VPC is private, only the Private IPv4 ranges are allowed:
    1. 10.0.0.0 - 10.255.255.255 (10.0.0.0/8)
    2. 172.16.0.0 - 172.31.255.255 (172.16.0.0/12)
    3. 192.168.0.0 - 192.168.255.255 (192.168.0.0/16)

 - Your VPC CIDR should NOT overlap with your other networks (e.g. corporate)

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

VPC Subnet

 - AWS reserves 5 IP addresses (first 4 & last 1) in each subnet
 - These 5 IP addresses are not available for use and can't be assigned to an EC2 instance
 - Example: if CIDR block 10.0.0.0/24, then reserved IP addresses are:
    1. 10.0.0.0 -  Network Address
    2. 10.0.0.1 - reserved by AWS for the VPC router
    3. 10.0.0.2 - reserved by AWS for mapping to Amazon-provided DNS
    4. 10.0.0.3 - reserved by AWS for future use
    5. 10.0.0.255 - Network Broadcast Address. AWS does not support broadcast in a VPC, therefore the address is reserved

 - Exam Tip:
 - If you need 29 IP addresses for EC2 instances (5 addresses are always reserved):
    1. You can't choose a subnet of size /27 (32 IP addresses, 32-5=27<29)
    2. You need to choose a subnet size /26 (64 IP addresses, 64-5=59>29)

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
